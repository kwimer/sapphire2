<header>
  <nav class="navbar navbar-expand-lg justify-content-start">
    <a href="/" class="navbar-brand mr-5"><%= image_tag('static/logo.png') %></a>
    <ul class="navbar-nav">
      <li class="nav-item active mr-2">
        <a class="nav-link" href="#">Series</a>
      </li>
      <li class="nav-item mr-2">
        <a class="nav-link" href="#">Movies</a>
      </li>
      <li class="nav-item mr-2">
        <a class="nav-link" href="#">New</a>
      </li>
      <li class="nav-item mr-2">
        <a class="nav-link" href="#">Showcases</a>
      </li>
    </ul>
    <form class="form-inline mx-auto" action="/static/search">
      <div class="input-group">
        <div class="input-group-prepend">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="collapse" data-target=".advsearch" aria-expanded="<%=  @show_adv_search ? 'true' : 'false' %>">
            <%= fa_icon 'sliders', :class => 'mr-1' %> Advanced Search
          </button>
          <div class="collapse advsearch advsearch-caret <%= 'show' if @show_adv_search %>"></div>
        </div>
        <input class="form-control" type="search" placeholder="Search here for your category..." aria-label="Search">
        <div class="input-group-append">
          <button class="btn btn-primary ml-0 my-sm-0" type="submit"><%= fa_icon "search" %></button>
        </div>
      </div>
    </form>
    <ul class="navbar-nav ml-auto nav-right">
      <li class="nav-item">
        <a class="nav-link" href="#">Sign Up</a>
      </li>
      <li class="nav-item">
        <div class="dropdown">
          <a class="nav-link" role="button" href="#" id="loginLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Login</a>
          <div class="dropdown-menu dropdown-menu-right p-4 nav_dropdown" aria-labelledby="loginLink">
            <div class="form-group">
              <input type="email" class="form-control" id="exampleDropdownFormEmail2" placeholder="Email address">
            </div>
            <div class="form-group">
              <input type="password" class="form-control" id="exampleDropdownFormPassword2" placeholder="Password">
            </div>
            <div class="dropdown_links">
              <span><a href="#">Forgot password?</a></span>
            </div>
            <button type="submit" class="btn btn-primary">Sign in</button>
            <div class="dropdown_links">
              <span><a href="#">Don't have an account? Sign up</a></span>
            </div>
          </div>
        </div>
      </li>
      <li class="nav-item nav-hamburger">
        <a class="nav-link"><%= fa_icon 'bars' %></a>
      </li>
    </ul>
  </nav>
  <div class="collapse advsearch advsearch-container <%= 'show' if @show_adv_search %>">
    <h2>iGEMSearch</h2>
    <div class="row">
      <div class="col-8 advsearch-col-main">
        <div class="advsearch-main">
          <div class="row">
            <div class="col-6">
              <div class="advsearch-wrap">
                <div class="row justify-content-md-center align-items-center no-gutters">
                  <div class="col">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="igemscore-check">
                      <label class="custom-control-label" for="igemscore-check">
                        iGEMScore:
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end ml-2 mr-2">
                    <div class="slider-container slider-black">
                      <input type="text" name="igemscore" data-provide="slider" data-slider-value="3" data-slider-min="0" data-slider-max="5" data-slider-step="0.5">
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end">
                    <span class="slider-value-container" style="min-width: 46px;">
                      <span class="slider-value">3</span> / 5
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="advsearch-wrap">
                <div class="row justify-content-md-center align-items-center no-gutters">
                  <div class="col">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="imdb-check">
                      <label class="custom-control-label" for="imdb-check">
                        IMDB Score:
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end ml-2 mr-2">
                    <div class="slider-container slider-yellow">
                      <input type="text" name="imdb" data-provide="slider" data-slider-value="3" data-slider-min="0" data-slider-max="5" data-slider-step="0.5">
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end">
                    <span class="slider-value-container" style="min-width: 56px;">
                      <span class="slider-value">5</span> / 10
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="advsearch-wrap">
                <div class="row justify-content-md-center align-items-center no-gutters">
                  <div class="col">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="rottentomatoes-check">
                      <label class="custom-control-label" for="rottentomatoes-check">
                        Rotten Tomatoes:
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end ml-2 mr-3">
                    <div class="slider-container slider-red">
                      <input type="text" name="rottentomatoes" data-provide="slider" data-slider-value="50" data-slider-min="0" data-slider-max="100" data-slider-step="1">
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end">
                    <span class="slider-value-container" style="min-width: 96px;">
                      <span class="slider-value">50</span>% / 100%
                    </span>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="advsearch-wrap">
                <div class="row justify-content-md-center align-items-center no-gutters">
                  <div class="col">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="year-check">
                      <label class="custom-control-label" for="year-check">
                        Release Year:
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end ml-2 mr-3">
                    <div class="slider-container slider-purple">
                      <input type="text" name="year" data-provide="slider" data-slider-value="[1927,2019]" data-slider-min="1927" data-slider-max="2018" data-slider-step="1">
                    </div>
                  </div>
                  <div class="col col-md-auto align-self-end">
                    <span class="slider-value-container">
                      <span class="slider-value-1">1927</span> to <span class="slider-value-2">2019</span>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-7">
              <div class="advsearch-wrap">
                <div class="row align-items-center no-gutters">
                  <div class="col col-md-auto mr-4">
                    <strong>Your Lists:</strong>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="hide-tracked">
                      <label class="custom-control-label label-skinny" for="hide-tracked">
                        Hide Tracked
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="hide-seen">
                      <label class="custom-control-label label-skinny" for="hide-seen">
                        Hide Seen
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="hide-wanttosee">
                      <label class="custom-control-label label-skinny" for="hide-wanttosee">
                        Hide Want to See
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-5">
              <div class="advsearch-wrap">
                <div class="row align-items-center no-gutters">
                  <div class="col">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="genres">
                      <label class="custom-control-label label-skinny" for="genres">
                        Genres
                      </label>
                    </div>
                  </div>
                  <div class="col col-select col-border-left">
                    <select class="custom-select genre-select">
                      <option selected>Family</option>
                      <option value="1">Romance</option>
                      <option value="2">Comedy</option>
                      <option value="3">Action</option>
                      <option value="4">Horror</option>
                      <option value="5">Adventure</option>
                      <option value="6">Documentary</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="advsearch-wrap">
                <div class="row align-items-center no-gutters">
                  <div class="col col-md-auto mr-4">
                    <strong>Select Your Platforms:</strong>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="netflix">
                      <label class="custom-control-label label-skinny" for="netflix">
                        NETFLIX
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="prime">
                      <label class="custom-control-label label-skinny" for="prime">
                        PRIME VIDEO
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="hbo">
                      <label class="custom-control-label label-skinny" for="hbo">
                        HBO
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3 mr-3">
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="hulu">
                      <label class="custom-control-label label-skinny" for="hulu">
                        HULU
                      </label>
                    </div>
                  </div>
                  <div class="col col-md-auto ml-3 col-select">
                    <select class="custom-select genre-select">
                      <option selected value>Other</option>
                      <option value="1">Youtube</option>
                      <option value="2">Vudu</option>
                      <option value="3">Showtime</option>
                      <option value="4">CBS</option>
                      <option value="5">Turner</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="advsearch-main-btns">
          <button type="button" class="btn btn-clear">Clear Filters</button>
          <button type="button" class="btn btn-blue ml-4">Apply</button>
        </div>
      </div>
      <div class="col-4">
        <div class="advsearch-side">
          <div class="advsearch-wrap">
            <div class="row">
              <div class="col">
                <div class="custom-control custom-checkbox custom-checkbox-lg">
                  <input type="checkbox" class="custom-control-input" id="movienight">
                  <label class="custom-control-label" for="movienight">
                    MOVIE NIGHT <%= fa_icon 'moon-o' %>
                  </label>
                </div>
                <div id="accordion">
                  <div class="accordion_card">
                    <a href="#" data-toggle="collapse" data-target="#collapse1" aria-expanded="true" aria-controls="collapse1">Viewer 1</a>
                    <div id="collapse1" class="accordion_card_content collapse show" data-parent="#accordion">
                      Age: 
                      <select class="custom-select ml-1 mr-3">
                        <option selected>12</option>
                        <option value="1">13</option>
                        <option value="2">14</option>
                        <option value="3">15</option>
                        <option value="4">16</option>
                        <option value="5">17</option>
                        <option value="6">18</option>
                      </select>
                      Sex: 
                      <select class="custom-select ml-1 mr-3">
                        <option selected>Male</option>
                        <option value="1">Female</option>
                      </select>
                      Genres: 
                      <select class="custom-select ml-1">
                        <option selected>Family</option>
                        <option value="1">Romance</option>
                        <option value="2">Comedy</option>
                        <option value="3">Action</option>
                        <option value="4">Horror</option>
                        <option value="5">Adventure</option>
                        <option value="6">Documentary</option>
                      </select>
                    </div>
                  </div>
                  <div class="accordion_card">
                    <a href="#" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">Viewer 2</a>
                    <div id="collapse2" class="accordion_card_content collapse" data-parent="#accordion">
                      Age: 
                      <select class="custom-select ml-1 mr-3">
                        <option selected>12</option>
                        <option value="1">13</option>
                        <option value="2">14</option>
                        <option value="3">15</option>
                        <option value="4">16</option>
                        <option value="5">17</option>
                        <option value="6">18</option>
                      </select>
                      Sex: 
                      <select class="custom-select ml-1 mr-3">
                        <option selected>Male</option>
                        <option value="1">Female</option>
                      </select>
                      Genres: 
                      <select class="custom-select ml-1">
                        <option selected>Family</option>
                        <option value="1">Romance</option>
                        <option value="2">Comedy</option>
                        <option value="3">Action</option>
                        <option value="4">Horror</option>
                        <option value="5">Adventure</option>
                        <option value="6">Documentary</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="advsearch-side-btns">
                  <div class="row align-items-center justify-content-between">
                    <div class="col col-md-auto">
                      Watching with friends and family? 
                      <br><a href="#">Let us guide you</a>
                    </div>
                    <div class="col col-md-auto">
                      <button type="button" class="btn btn-blue">Apply</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="advsearch-wrap no-borders">
            <div class="row">
              <div class="col">
                <div class="custom-control custom-checkbox custom-checkbox-lg">
                  <input type="checkbox" class="custom-control-input" id="feeling">
                  <label class="custom-control-label" for="feeling">
                    I'M FEELING:
                  </label>
                </div>
                <div class="smileys">
                  <% (1..6).each do |i| %>
                    <div class="custom-control custom-checkbox" data-toggle="tooltip" data-placement="bottom" data-html="true" title="I'm in the mood for &quot;<em>Romance</em>&quot;">
                      <input type="checkbox" class="custom-control-input" id="smiley<%= i %>">
                      <label class="custom-control-label" for="smiley<%= i %>">
                        <%= image_tag("static/smiley#{i}.png") %>
                      </label>
                    </div>
                  <% end %>
                </div>
                <div class="advsearch-side-btns">
                  <div class="row justify-content-end">
                    <div class="col col-md-auto">
                      <button type="button" class="btn btn-blue">Apply</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<script>
$('[data-provide=slider]').on('change', function(ev) {
  if($.isArray(ev.value.newValue)) {
    $(ev.currentTarget).parents('.row').first().find('.slider-value-1').text(ev.value.newValue[0]);
    $(ev.currentTarget).parents('.row').first().find('.slider-value-2').text(ev.value.newValue[1]);
  }
  else {
    $(ev.currentTarget).parents('.row').first().find('.slider-value').text(ev.value.newValue);
  }

});
$(function () {
  $('[data-toggle="tooltip"]').tooltip()
});
$('.advsearch .btn-blue').on('click', function() {
  window.location.href = '<%= static_search_path %>';
});
$('[data-toggle="dropdown"]').dropdown();
</script>